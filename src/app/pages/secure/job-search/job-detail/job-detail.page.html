<ion-header translucent="true">
  <app-toolbar-back [title]="'Job Details'"></app-toolbar-back>
  @if (jobListing()) {

  <div class="ion-padding-horizontal job-detail-shell">
    <div class="job-card">
      <div class="job-card-header ion-padding-bottom">
        <h1 class="job-title">{{ title() }}</h1>

        @if (subcat()) {
        <p class="job-subtitle">{{ subcat() }}</p>
        }
      </div>

      <div class="meta-list">
        <div class="meta-row">
          <ion-icon name="cash-outline" aria-hidden="true"></ion-icon>
          <span>£{{ pay() }}/h</span>
        </div>

        @if (hours().length) {
        <div class="meta-row">
          <ion-icon name="time-outline" aria-hidden="true"></ion-icon>
          <span>{{ hours().join(', ') }}</span>
        </div>
        }

        <div class="meta-row">
          <ion-icon name="calendar-outline" aria-hidden="true"></ion-icon>
          <span>
            @if (start()) { {{ start() | date:'d MMM, y' }} } @else { TBC } –
            @if (end()) { {{ end() | date:'d MMM, y' }} } @else { TBC }
          </span>
        </div>

        @if (loc()) {
        <div class="meta-row ion-padding-bottom">
          <ion-icon name="location-outline" aria-hidden="true"></ion-icon>
          <span>{{ loc() }}</span>
        </div>
        }
      </div>

      <div class="section">
        <h2 class="section-title">Job Description</h2>
        <p class="section-body">{{ desc() || 'No description provided.' }}</p>
      </div>
    </div>
  </div>

  } @else {
  <div class="job-detail-shell">
    <p class="section-muted">Job not found.</p>
  </div>
  }
</ion-header>

<ion-footer class="ion-no-border ion-padding">
  <ion-toolbar>
    <ion-button
      expand="block"
      size="large"
      [disabled]="!jobListing() || applying()"
      (click)="applyNow()"
    >
      Apply
    </ion-button>
  </ion-toolbar>
</ion-footer>
