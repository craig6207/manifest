<ion-toolbar class="toolbar-success">
  <ion-buttons slot="start">
    <ion-button
      fill="clear"
      size="small"
      class="back-btn"
      (click)="goBack()"
      aria-label="Back page"
    >
      <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
    </ion-button>
  </ion-buttons>
</ion-toolbar>
<ion-content [fullscreen]="true" class="job-success-page">
  <div class="page-inner">
    @if (loading()) {
    <div class="top-block">
      <h1 class="headline">Congratulations!</h1>

      <section class="success-card skeleton-card">
        <div class="card-header">
          <div class="brand-badge">
            <ion-skeleton-text
              animated
              style="width: 32px; height: 32px; border-radius: 12px"
            ></ion-skeleton-text>
          </div>
          <div class="header-text">
            <div class="title-row">
              <ion-skeleton-text
                animated
                style="width: 150px; height: 18px; border-radius: 6px"
              ></ion-skeleton-text>
            </div>
            <div class="subtitle-row">
              <ion-skeleton-text
                animated
                style="width: 220px; height: 14px; border-radius: 6px"
              ></ion-skeleton-text>
            </div>
            <div class="subtitle-row">
              <ion-skeleton-text
                animated
                style="width: 190px; height: 14px; border-radius: 6px"
              ></ion-skeleton-text>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="job-details ion-margin-top">
          <div class="role-title-skel">
            <ion-skeleton-text
              animated
              style="width: 120px; height: 16px; border-radius: 6px"
            ></ion-skeleton-text>
          </div>

          @for (i of [1, 2, 3, 4, 5]; track i) {
          <div class="meta-row">
            <ion-skeleton-text
              animated
              style="width: 18px; height: 18px; border-radius: 999px"
            ></ion-skeleton-text>
            <ion-skeleton-text
              animated
              style="width: 60%; height: 14px; border-radius: 6px"
            ></ion-skeleton-text>
          </div>
          }
        </div>
      </section>
    </div>
    } @else if (error()) {
    <div class="error-wrap">
      <div class="error">{{ error() }}</div>
    </div>
    } @else {
    <div class="top-block">
      <h1 class="headline">Congratulations!</h1>

      <section class="success-card">
        <div class="card-header">
          <div class="brand-badge">
            <ion-img
              class="brand-logo"
              src="assets/img/offer_logo.svg"
              alt="Offer logo"
            ></ion-img>
          </div>
          <div class="header-text">
            <div class="title-row">You've got the job!</div>
            <p class="subtitle-row">
              We're excited to see you take this next big step in your career!
            </p>
          </div>
        </div>

        <div class="divider"></div>

        <div class="job-details ion-margin-top">
          <div class="role-title ion-margin-bottom">
            {{ roleTitle() || "Your new role" }}
          </div>

          @if (jobLocation()) {
          <div class="meta-row">
            <ion-icon name="location-outline"></ion-icon>
            <span>{{ jobLocation() }}</span>
          </div>
          } @if (payText()) {
          <div class="meta-row">
            <ion-icon name="cash-outline"></ion-icon>
            <span>{{ payText() }}</span>
          </div>
          } @if (clientName()) {
          <div class="meta-row">
            <ion-icon name="business-outline"></ion-icon>
            <span>{{ clientName() }}</span>
          </div>
          } @if (startDateText()) {
          <div class="meta-row">
            <ion-icon name="calendar-clear-outline"></ion-icon>
            <span>
              {{ startDateText() | date : "d MMMM, y" }}
            </span>
          </div>
          }
        </div>
      </section>
    </div>
    }
  </div>
</ion-content>
